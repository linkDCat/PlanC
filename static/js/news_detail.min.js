function NewsDetail(){}NewsDetail.prototype.listenCommentSubmitEvent=function(){var n=$(".submit-btn"),a=$("textarea[name='comment']");n.click(function(){var e=a.val(),t=n.attr("data-news-id");catajax.post({url:"/news/comment/",data:{content:e,news_id:t},success:function(e){if(200===e.code){var t=e.data,n=template("comment-item",{comment:t});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功"),a.val("")}else window.messageBox.showError(e.message),a.val("")}})})},NewsDetail.prototype.run=function(){this.listenCommentSubmitEvent()},$(function(){(new NewsDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NEZXRhaWwiLCJwcm90b3R5cGUiLCJsaXN0ZW5Db21tZW50U3VibWl0RXZlbnQiLCJzdW1pdEJ0biIsIiQiLCJ0ZXh0YXJlYSIsImNsaWNrIiwiY29udGVudCIsInZhbCIsIm5ld3NfaWQiLCJhdHRyIiwiY2F0YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsImNvbW1lbnQiLCJ0cGwiLCJ0ZW1wbGF0ZSIsInByZXBlbmQiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJzaG93RXJyb3IiLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxjQUlUQSxXQUFXQyxVQUFVQyx5QkFBMkIsV0FDNUMsSUFDSUMsRUFBV0MsRUFBRSxlQUNiQyxFQUFXRCxFQUFFLDRCQUNqQkQsRUFBU0csTUFBTSxXQUNYLElBQUlDLEVBQVVGLEVBQVNHLE1BQ25CQyxFQUFVTixFQUFTTyxLQUFLLGdCQUM1QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFNLGlCQUNOQyxLQUFPLENBQ0hQLFFBQVVBLEVBQ1ZFLFFBQVVBLEdBRWRNLFFBQVUsU0FBVUMsR0FDaEIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFVRCxFQUFhLEtBQ3ZCRSxFQUFNQyxTQUFTLGVBQWUsQ0FBQ0YsUUFBVUEsSUFDdEJiLEVBQUUsaUJBQ1JnQixRQUFRRixHQUN6QkcsT0FBT0MsV0FBV0MsWUFBWSxVQUM5QmxCLEVBQVNHLElBQUksU0FFYmEsT0FBT0MsV0FBV0UsVUFBVVIsRUFBZ0IsU0FDNUNYLEVBQVNHLElBQUksVUFPakNSLFdBQVdDLFVBQVV3QixJQUFLLFdBQ1hDLEtBQ054Qiw0QkFHVEUsRUFBRSxZQUNtQixJQUFJSixZQUNWeUIiLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTmV3c0RldGFpbCgpIHtcclxuXHJcbn07XHJcblxyXG5OZXdzRGV0YWlsLnByb3RvdHlwZS5saXN0ZW5Db21tZW50U3VibWl0RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPXRoaXM7XHJcbiAgICB2YXIgc3VtaXRCdG4gPSAkKCcuc3VibWl0LWJ0bicpO1xyXG4gICAgdmFyIHRleHRhcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKTtcclxuICAgIHN1bWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IHRleHRhcmVhLnZhbCgpO1xyXG4gICAgICAgIHZhciBuZXdzX2lkID0gc3VtaXRCdG4uYXR0cignZGF0YS1uZXdzLWlkJyk7XHJcbiAgICAgICAgY2F0YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9uZXdzL2NvbW1lbnQvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50Jzpjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOm5ld3NfaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnY29tbWVudC1pdGVtJyx7XCJjb21tZW50XCI6Y29tbWVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50TGlzdEdyb3VwID0gJCgnLmNvbW1lbnQtbGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0R3JvdXAucHJlcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfor4Torrrlj5HooajmiJDlip8nKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuTmV3c0RldGFpbC5wcm90b3R5cGUucnVuID1mdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXMgO1xyXG4gICAgc2VsZi5saXN0ZW5Db21tZW50U3VibWl0RXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG5ld3NkZXRhaWwgPSBuZXcgTmV3c0RldGFpbCgpO1xyXG4gICAgbmV3c2RldGFpbC5ydW4oKTtcclxufSk7Il19
